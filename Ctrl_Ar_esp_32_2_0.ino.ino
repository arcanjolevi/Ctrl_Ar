#include "BluetoothSerial.h" 
#include <Wire.h>  
#include <IRremote.h>
#include "SSD1306Wire.h" 
#include "DHT.h"
#define DHTPIN 17
#define DHTTYPE DHT22
#define DEMO_DURATION 3000

IRsend irsend(5);
BluetoothSerial ESP_BT; 

DHT dht(DHTPIN, DHTTYPE);
SSD1306Wire  display(0x3c, 23, 18);


float h=0, t=0;
int incoming;
int khz = 38;
unsigned int ar_lab_on[] = {8484, 4150,  514, 542,  510, 538,  570, 1532,  516, 540,  514, 540,  512, 534,  570, 1534,  514, 538,  568, 1542,  562, 1536,  512, 536,  516, 534,  570, 482,  570, 1534,  568, 486,  512, 1588,  516, 536,  516, 540,  566, 1536,  516, 536,  514, 536,  514, 546,  558, 1540,  566, 1534,  568, 482,  570, 494,  556, 1538,  512, 538,  566, 1546,  508, 536,  570, 1534,  516, 536,  566, 1540,  566, 1536,  516, 1588,  514, 1588,  572, 1564,  538, 1542,  560, 1540,  568, 1538,  512, 534,  568, 486,  566, 486,  566, 490,  564, 484,  570, 480,  564, 488,  566, 484,  570, 482,  568, 484,  570, 484,  564, 488,  566, 482,  570, 482,  568, 484,  518, 536,  568, 1534,  566, 1544,  508, 536,  568, 486,  568, 1534,  568, 1536,  566, 516,  534, 1542,  564, 8486, 4146,  516, 536,  516, 538,  512, 1622,  484, 534,  572, 512,  538, 514,  538, 1534,  514, 542,  510, 1590,  514, 1588,  516, 542,  510, 540,  564, 490,  510, 1592,  512, 538,  514, 1590,  514, 536,  514, 540,  512, 1590,  514, 542,  508, 538,  568, 482,  514, 1588,  518, 1588,  568, 484,  514, 462,  644, 1534,  514, 544,  512, 1600,  556, 482,  514, 1590,  516, 534,  570, 1536,  514, 1594,  566, 1536,  568, 1536,  566, 1536,  570, 1534,  566, 1540,  564, 1538,  568, 488,  564, 488,  512, 536,  570, 486,  568, 484,  568, 484,  512, 538,  568, 486,  566, 484,  566, 488,  564, 484,  566, 488,  566, 486,  512, 538,  568, 486,  568, 482,  568, 1536,  516, 1592,  564, 482,  568, 484,  566, 1538,  520, 1584,  514, 536,  570, 1538,  568, 8486, 4152,  510, 538,  512, 542,  512, 1588,  516, 538,  568, 484,  570, 480,  516, 1594,  564, 482,  568, 1536,  516, 1588,  516, 536,  516, 534,  570, 484,  564, 1536,  516, 538,  566, 1536,  570, 514,  486, 534,  564, 1538,  516, 538,  566, 484,  514, 538,  514, 1594,  512, 1588,  570, 486,  514, 534,  514, 1620,  486, 538,  564, 1538,  516, 538,  564, 1536,  518, 534,  570, 1536,  514, 1588,  518, 1588,  564, 1538,  516, 1588,  516, 1588,  568, 1536,  516, 1592,  564, 486,  568, 482,  566, 488,  568, 486,  560, 486,  566, 484,  518, 538,  564, 468,  580, 488,  566, 484,  566, 490,  564, 486,  568, 484,  568, 480,  572, 482,  568, 484,  568, 1538,  512, 1590,  514, 538,  514, 536,  566, 1538,  514, 1594,  564, 486,  562, 1540,  512};
unsigned int ar_lab_off[] = {8436, 4198,  514, 536,  516, 536,  516, 1588,  516, 538,  514, 534,  516, 538,  514, 1588,  516, 536,  516, 1588,  516, 536,  516, 536,  516, 536,  516, 536,  516, 1586,  516, 536,  516, 1590,  514, 536,  516, 536,  516, 1586,  518, 536,  516, 536,  516, 534,  516, 1590,  514, 1588,  516, 536,  516, 536,  516, 1588,  516, 536,  516, 1588,  514, 536,  516, 1586,  516, 536,  516, 1586,  518, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 536,  516, 536,  516, 538,  516, 536,  516, 534,  516, 536,  516, 536,  516, 536,  516, 536,  516, 534,  516, 536,  516, 536,  516, 536,  516, 536,  516, 536,  516, 536,  516, 536,  514, 536,  516, 536,  516, 534,  516, 1588,  516, 1590,  516, 534,  516, 1590,  514, 8436, 4198,  516, 534,  516, 536,  516, 1588,  516, 536,  516, 536,  516, 536,  516, 1588,  516, 534,  518, 1588,  516, 534,  516, 534,  518, 534,  516, 536,  516, 1588,  516, 536,  516, 1588,  516, 536,  516, 534,  518, 1588,  516, 534,  516, 536,  516, 538,  514, 1588,  516, 1588,  516, 536,  516, 536,  516, 1590,  514, 536,  516, 1588,  516, 536,  516, 1588,  516, 536,  516, 1590,  514, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 1588,  516, 534,  516, 536,  516, 534,  518, 536,  514, 536,  516, 536,  516, 536,  516, 534,  518, 534,  516, 536,  516, 534,  516, 536,  516, 536,  516, 536,  516, 534,  518, 534,  516, 536,  516, 536,  516, 534,  516, 536,  516, 1586,  518, 1588,  516, 536,  516, 1588,  516,8438, 4196,  516, 536,  516, 536,  516, 1588,  516, 536,  516, 536,  516, 536,  516, 1588,  516, 536,  516, 1588,  516, 536,  516, 536,  516, 520,  532, 536,  516, 1588,  516, 536,  516, 1588,  516, 536,  516, 534,  516, 1588,  516, 536,  516, 536,  516, 534,  516, 1588,  516, 1588,  516, 536,  516, 536,  516, 1588,  516, 534,  516, 1590,  514, 534,  516, 1588,  516, 536,  516, 1590,  514, 1588,  520, 1584,  520, 1584,  520, 1586,  516, 1588,  516, 1588,  514, 1588,  516, 536,  516, 536,  516, 534,  518, 536,  516, 536,  516, 536,  516, 536,  516, 536,  516, 534,  516, 536,  516, 536,  516, 536,  516, 534,  516, 536,  516, 536,  516, 534,  516, 536,  516, 534,  516, 536,  516, 536,  516, 1588,  516, 1588,  516, 536,  516, 1588,  516};
unsigned int ar_corredor_on [] = {8952, 4510,  524, 582,  552, 584,  550, 1682,  550, 582,  552, 1682,  552, 582,  550, 584,  550, 598,  552, 582,  552, 1682,  550, 582,  550, 584,  550, 582,  550, 1682,  552, 1682,  550, 598,  552, 582,  550, 582,  552, 582,  550, 582,  550, 582,  552, 582,  552, 582,  550, 600,  552, 582,  550, 582,  550, 582,  550, 582,  552, 582,  550, 582,  550, 582,  552, 600,  550, 584,  550, 582,  550, 584,  550, 584,  550, 584,  550, 582,  550, 584,  550, 606,  550, 1682,  552, 582,  550, 1682,  550, 1670,  550}; 
unsigned int ar_corredor_off []= {8952, 4508,  526, 580,  552, 582,  552, 1682,  552, 582,  550, 584,  548, 580,  552, 580,  552, 598,  552, 580,  552, 1684,  550, 582,  552, 582,  550, 582,  550, 1682,  552, 582,  550, 1700,  552, 582,  552, 582,  550, 582,  550, 584,  550, 582,  550, 582,  552, 580,  552, 598,  552, 582,  550, 582,  552, 584,  550, 580,  552, 584,  550, 582,  550, 582,  550, 600,  550, 582,  552, 582,  552, 580,  552, 582,  550, 582,  552, 582,  550, 582,  552, 604,  550, 582,  552, 1682,  552, 582,  550, 570,  550};

unsigned int ar_corredor_18[]= {8952, 4502,  526, 582,  552, 582,  550, 1682,  552, 580,  552, 1680,  552, 582,  552, 582,  550, 600,  550, 582,  552, 1682,  552, 580,  552, 582,  550, 582,  550, 582,  552, 1682,  550, 1700,  552, 582,  552, 582,  552, 582,  552, 582,  552, 580,  552, 582,  550, 582,  552, 598,  552, 582,  552, 582,  552, 582,  550, 582,  552, 582,  552, 580,  552, 582,  552, 598,  552, 582,  550, 582,  552, 580,  552, 582,  552, 580,  552, 582,  552, 582,  552, 604,  552, 1682,  552, 1680,  552, 1682,  552, 570,  550};
unsigned int ar_corredor_19[]= {8926, 4534,  524, 584,  550, 582,  550, 1682,  550, 582,  552, 1682,  550, 584,  550, 582,  550, 600,  550, 582,  550, 1684,  550, 582,  550, 582,  550, 582,  552, 1682,  550, 584,  550, 600,  550, 584,  550, 582,  550, 584,  550, 582,  552, 582,  550, 584,  550, 584,  550, 600,  550, 584,  550, 582,  550, 584,  550, 582,  550, 584,  550, 584,  550, 582,  550, 600,  550, 582,  550, 584,  550, 582,  550, 584,  550, 582,  550, 584,  550, 584,  550, 606,  550, 1684,  550, 1682,  550, 584,  550, 1670,  550};
unsigned int ar_corredor_20[]= {8954, 4508,  526, 582,  552, 582,  552, 1680,  554, 580,  552, 1680,  552, 580,  552, 580,  552, 598,  552, 580,  552, 1680,  552, 582,  552, 580,  552, 582,  552, 1682,  552, 580,  552, 1698,  554, 580,  552, 580,  554, 580,  552, 580,  552, 580,  552, 580,  552, 580,  554, 598,  552, 582,  552, 580,  552, 580,  554, 580,  554, 580,  552, 580,  552, 582,  552, 598,  552, 580,  552, 580,  552, 580,  554, 580,  552, 580,  552, 580,  552, 580,  552, 604,  550, 1680,  552, 1682,  552, 580,  552, 568,  554}; 
unsigned int ar_corredor_21[]= {8952, 4510,  524, 582,  552, 584,  550, 1682,  550, 582,  552, 1682,  552, 582,  550, 584,  550, 598,  552, 582,  552, 1682,  550, 582,  550, 584,  550, 582,  550, 1682,  552, 1682,  550, 598,  552, 582,  550, 582,  552, 582,  550, 582,  550, 582,  552, 582,  552, 582,  550, 600,  552, 582,  550, 582,  550, 582,  550, 582,  552, 582,  550, 582,  550, 582,  552, 600,  550, 584,  550, 582,  550, 584,  550, 584,  550, 584,  550, 582,  550, 584,  550, 606,  550, 1682,  552, 582,  550, 1682,  550, 1670,  550}; 
unsigned int ar_corredor_22[]= {8952, 4510,  524, 582,  552, 580,  552, 1682,  552, 582,  550, 1682,  552, 580,  552, 582,  552, 598,  552, 582,  550, 1682,  552, 580,  552, 582,  550, 580,  552, 1682,  552, 1680,  552, 1700,  552, 580,  552, 582,  552, 582,  552, 580,  552, 582,  552, 582,  552, 582,  552, 600,  550, 582,  552, 582,  552, 582,  550, 582,  552, 582,  550, 582,  552, 582,  550, 600,  550, 582,  552, 584,  550, 580,  552, 582,  552, 582,  550, 582,  552, 582,  552, 604,  552, 1680,  552, 582,  552, 1676,  556, 572,  550};
unsigned int ar_corredor_23[]= {8980, 4478,  522, 582,  550, 582,  550, 1684,  550, 582,  550, 1684,  550, 582,  550, 582,  552, 600,  550, 584,  550, 1682,  550, 584,  550, 584,  550, 1682,  550, 582,  552, 582,  550, 598,  550, 582,  552, 582,  552, 582,  550, 582,  550, 582,  550, 582,  550, 582,  550, 600,  550, 582,  550, 584,  550, 584,  548, 582,  552, 582,  550, 584,  550, 584,  550, 600,  550, 582,  550, 582,  550, 584,  550, 584,  550, 584,  550, 584,  550, 582,  550, 604,  552, 1682,  552, 582,  552, 582,  550, 1670,  552};
unsigned int ar_corredor_24[]= {9006, 4456,  522, 582,  550, 582,  550, 1684,  550, 582,  550, 1682,  552, 582,  552, 582,  550, 600,  550, 584,  550, 1682,  550, 582,  552, 582,  550, 1682,  550, 584,  550, 582,  550, 1700,  550, 582,  550, 584,  550, 582,  550, 584,  550, 582,  550, 582,  550, 582,  552, 598,  552, 582,  550, 584,  548, 582,  550, 582,  550, 584,  548, 584,  550, 582,  552, 598,  552, 582,  550, 582,  550, 584,  548, 582,  552, 582,  550, 582,  550, 582,  550, 604,  550, 1684,  550, 582,  550, 584,  550, 572,  550};
unsigned int ar_corredor_25[]= {8970, 4486,  522, 584,  550, 584,  550, 1684,  550, 582,  550, 1682,  552, 582,  550, 582,  550, 600,  550, 582,  550, 1684,  550, 584,  550, 582,  550, 1682,  552, 582,  552, 1682,  550, 600,  550, 584,  550, 584,  550, 584,  550, 584,  550, 584,  550, 584,  550, 582,  550, 600,  550, 584,  550, 584,  550, 582,  550, 582,  550, 582,  550, 584,  550, 582,  550, 600,  550, 582,  550, 584,  550, 584,  550, 582,  550, 584,  550, 582,  550, 582,  550, 604,  550, 582,  550, 1684,  550, 1684,  550, 1672,  550};

unsigned int ar_lab_18[]= {8482, 4152,  566, 488,  566, 486,  558, 1548,  556, 1544,  566, 488,  564, 488,  566, 1538,  564, 488,  514, 1592,  564, 1538,  566, 486,  566, 486,  560, 490,  564, 1542,  562, 488,  558, 1546,  560, 492,  514, 536,  558, 1546,  516, 538,  562, 490,  560, 490,  564, 1538,  562, 1544,  512, 536,  516, 536,  566, 1540,  560, 492,  564, 488,  564, 1542,  562, 486,  566, 486,  560, 1542,  562, 1542,  514, 1590,  514, 1592,  560, 1542,  558, 1546,  558, 1546,  564, 1538,  564, 488,  560, 492,  562, 486,  566, 488,  514, 538,  514, 538,  558, 492,  562, 492,  512, 536,  562, 492,  558, 492,  558, 496,  562, 490,  564, 488,  514, 538,  514, 538,  558, 1546,  566, 1538,  560, 490,  516, 538,  562, 490,  514, 538,  566, 1538,  564, 1540,  514, 8434, 4200,  562, 490,  562, 486,  564, 1542,  564, 1538,  516, 538,  514, 538,  554, 1548,  566, 484,  514, 1590,  566, 1540,  556, 494,  514, 536,  566, 488,  562, 1542,  558, 490,  566, 1538,  562, 490,  514, 536,  566, 1540,  562, 490,  560, 490,  514, 538,  562, 1542,  566, 1540,  512, 538,  562, 488,  564, 1542,  560, 492,  560, 490,  516, 1586,  560, 492,  558, 492,  516, 1592,  564, 1540,  512, 1594,  560, 1542,  562, 1542,  564, 1540,  564, 1540,  514, 1590,  558, 492,  516, 538,  558, 494,  560, 492,  564, 518,  484, 538,  564, 490,  562, 488,  562, 492,  512, 538,  562, 488,  566, 488,  514, 536,  516, 538,  562, 492,  560, 490,  514, 1590,  560, 1542,  560, 492,  558, 494,  562, 490,  514, 540,  558, 1544,  560, 1544,  514, 8434, 4198,  564, 490,  566, 484,  558, 1546,  564, 1542,  562, 488,  562, 490,  514, 1620,  532, 492,  512, 1590,  562, 1542,  562, 490,  562, 488,  514, 538,  562, 1544,  564, 486,  516, 1590,  564, 488,  556, 496,  564, 1540,  562, 490,  560, 492,  562, 488,  560, 1546,  514, 1590,  514, 538,  560, 490,  514, 1590,  558, 492,  562, 492,  558, 1544,  570, 482,  560, 492,  562, 1542,  560, 1540,  564, 1542,  562, 1542,  514, 1588,  566, 1538,  562, 1544,  560, 1544,  512, 538,  514, 538,  514, 538,  514, 540,  560, 488,  558, 496,  512, 538,  564, 488,  514, 536,  564, 490,  564, 486,  560, 490,  514, 538,  514, 536,  562, 488,  516, 538,  562, 1542,  514, 1590,  558, 494,  562, 490,  512, 538,  514, 536,  516, 1588,  564, 1540,  564};
unsigned int ar_lab_19[]= {8482, 4152,  512, 538,  556, 496,  566, 1538,  562, 1548,  558, 486,  514, 538,  564, 1540,  564, 488,  562, 1542,  564, 1542,  564, 488,  564, 486,  514, 536,  564, 1540,  566, 488,  514, 1590,  562, 488,  562, 492,  564, 1540,  560, 490,  514, 536,  556, 496,  514, 1590,  560, 1544,  560, 490,  564, 488,  566, 1540,  562, 488,  564, 490,  554, 1548,  514, 1588,  562, 520,  532, 1544,  560, 1542,  556, 1548,  512, 1588,  564, 1540,  566, 1544,  510, 1590,  514, 1592,  564, 488,  556, 494,  514, 540,  562, 488,  562, 488,  564, 488,  514, 538,  514, 536,  516, 536,  564, 488,  514, 538,  564, 488,  562, 488,  562, 488,  516, 536,  514, 536,  514, 1590,  562, 1542,  564, 486,  562, 494,  510, 536,  516, 538,  512, 538,  560, 1544,  514, 45170,  202, 8436, 4198,  562, 490,  560, 490,  564, 1542,  560, 1544,  514, 536,  562, 490,  564, 1542,  562, 488,  516, 1590,  564, 1570,  484, 538,  562, 490,  556, 492,  516, 1588,  514, 538,  514, 1346,  804, 492,  562, 488,  558, 1546,  516, 538,  514, 538,  514, 540,  510, 1590,  514, 1592,  512, 538,  560, 492,  562, 1542,  514, 540,  512, 536,  514, 1590,  564, 1540,  560, 490,  562, 1542,  560, 1544,  560, 1542,  560, 1544,  558, 1546,  556, 1548,  514, 1592,  512, 1590,  514, 536,  558, 496,  556, 494,  514, 538,  556, 494,  558, 492,  516, 536,  516, 538,  558, 492,  514, 538,  560, 492,  514, 538,  514, 536,  514, 538,  514, 538,  514, 538,  514, 1590,  560, 1544,  558, 492,  514, 536,  516, 556,  540, 494,  512, 536,  516, 1588,  562, 8482, 4152,  562, 490,  514, 538,  514, 1590,  560, 1544,  514, 536,  560, 492,  514, 1542,  562, 538,  514, 1590,  564, 1540,  560, 488,  514, 536,  564, 490,  514, 1590,  514, 544,  550, 1548,  554, 496,  560, 492,  558, 1548,  512, 538,  514, 536,  516, 536,  514, 1590,  562, 1540,  514, 536,  566, 488,  560, 1544,  560, 490,  514, 538,  514, 1590,  564, 1540,  562, 490,  516, 1590,  564, 1542,  512, 1588,  564, 1544,  558, 1542,  564, 1542,  566, 1538,  514, 1588,  562, 490,  516, 536,  562, 490,  556, 496,  514, 536,  560, 494,  512, 536,  514, 538,  558, 492,  560, 492,  560, 490,  514, 538,  562, 488,  516, 538,  564, 488,  556, 496,  560, 1544,  562, 1542,  516, 538,  514, 538,  558, 492,  516, 536,  514, 538,  514, 1590,  514};
unsigned int ar_lab_20[]= {124, 5760,  8434, 4198,  564, 486,  564, 488,  564, 1542,  560, 1542,  512, 446,  654, 492,  562, 1540,  564, 488,  562, 1544,  564, 1538,  568, 482,  566, 490,  562, 490,  512, 1598,  504, 536,  566, 1538,  566, 486,  564, 490,  562, 1540,  560, 490,  516, 536,  562, 490,  562, 1542,  566, 1538,  566, 486,  564, 488,  564, 1538,  514, 538,  514, 1590,  566, 486,  562, 490,  514, 538,  558, 1548,  554, 1546,  562, 1542,  514, 1588,  564, 1542,  562, 1542,  560, 1544,  566, 1538,  562, 488,  514, 540,  562, 488,  514, 536,  516, 536,  562, 492,  516, 538,  566, 484,  564, 488,  560, 496,  560, 488,  564, 488,  562, 492,  556, 492,  564, 488,  560, 494,  558, 1544,  562, 488,  566, 1540,  514, 1590,  560, 1544,  514, 1590,  560, 1542,  566, 1538,  564, 8508, 4198,  566, 484,  514, 538,  514, 1588,  566, 1540,  566, 486,  514, 538,  562, 1542,  560, 490,  564, 1540,  514, 1590,  556, 494,  514, 538,  556, 498,  558, 1546,  558, 494,  558, 1544,  562, 492,  512, 536,  566, 1538,  562, 494,  512, 536,  514, 538,  558, 1546,  560, 1542,  516, 536,  560, 490,  516, 1592,  562, 488,  514, 1592,  556, 492,  516, 536,  514, 538,  514, 1590,  558, 1546,  512, 1592,  512, 1590,  564, 1540,  560, 1544,  562, 1542,  560, 1544,  560, 490,  560, 494,  562, 488,  516, 538,  514, 536,  514, 536,  562, 490,  514, 538,  514, 538,  512, 536,  514, 538,  564, 490,  514, 538,  512, 538,  514, 538,  514, 536,  560, 1546,  514, 536,  514, 1590,  564, 1544,  562, 1542,  512, 1590,  514, 1590,  562, 1542,  564, 180, 65535,  0, 1679,  8478, 4184,  534, 488,  562, 488,  564, 1542,  560, 1544,  514, 540,  556, 492,  560, 1542,  566, 486,  566, 1540,  562, 1542,  566, 484,  516, 538,  560, 490,  558, 1546,  558, 492,  516, 1590,  562, 490,  562, 490,  560, 1544,  560, 494,  562, 488,  564, 488,  514, 1592,  512, 1590,  564, 490,  512, 538,  564, 1540,  562, 490,  564, 1540,  514, 538,  514, 538,  564, 486,  568, 1536,  568, 1542,  558, 1544,  512, 1590,  562, 1544,  562, 1542,  514, 1592,  512, 1588,  562, 492,  514, 538,  562, 490,  562, 490,  562, 490,  514, 538,  562, 488,  514, 538,  514, 536,  516, 538,  562, 492,  560, 490,  514, 536,  514, 538,  514, 538,  514, 536,  516, 1590,  560, 492,  560, 1544,  514, 1590,  560, 1546,  560, 1544,  562, 1540,  558, 1548,  514, 41264,  156}; 
unsigned int ar_lab_21[]= {8482, 4154,  558, 490,  562, 490,  562, 1544,  562, 1538,  566, 484,  564, 488,  564, 1546,  562, 486,  556, 1548,  562, 1544,  510, 536,  516, 538,  566, 486,  566, 1536,  568, 482,  568, 1538,  514, 538,  514, 538,  562, 1542,  558, 492,  562, 490,  562, 490,  566, 1538,  514, 1590,  562, 490,  564, 488,  562, 1542,  562, 488,  514, 1590,  560, 492,  558, 1546,  516, 540,  562, 1540,  558, 1546,  564, 1540,  564, 1540,  562, 1540,  516, 1590,  512, 1590,  514, 1592,  564, 484,  560, 492,  514, 538,  566, 488,  558, 494,  512, 540,  562, 488,  560, 490,  514, 538,  514, 538,  562, 488,  558, 496,  558, 492,  564, 488,  562, 490,  560, 492,  562, 1542,  566, 486,  514, 1588,  514, 1590,  562, 1542,  514, 1590,  562, 492,  560, 1542,  560, 8482, 4152,  556, 494,  564, 488,  560, 1546,  562, 1542,  514, 538,  514, 536,  564, 1542,  562, 490,  558, 1546,  562, 1542,  514, 540,  558, 492,  560, 492,  562, 1540,  562, 490,  560, 1546,  562, 490,  562, 488,  560, 1544,  564, 488,  514, 538,  560, 490,  514, 1590,  514, 1590,  562, 490,  514, 540,  558, 1542,  562, 492,  514, 1590,  512, 538,  560, 1546,  512, 538,  512, 1592,  512, 1590,  564, 1542,  558, 1544,  564, 1540,  514, 1588,  516, 1590,  556, 1546,  514, 536,  516, 536,  566, 484,  556, 496,  514, 538,  514, 536,  558, 492,  516, 538,  514, 538,  514, 536,  560, 494,  562, 490,  514, 538,  556, 494,  516, 536,  514, 536,  516, 1588,  514, 538,  514, 1592,  512, 1588,  516, 1590,  560, 1544,  558, 492,  514, 1590,  560, 8436, 4198,  514, 540,  556, 492,  562, 1542,  512, 1590,  564, 488,  564, 488,  560, 1546,  562, 486,  516, 1590,  564, 1536,  564, 490,  514, 540,  554, 498,  512, 1592,  560, 490,  564, 1538,  562, 492,  560, 494,  558, 1544,  514, 538,  514, 536,  516, 538,  564, 1542,  512, 1590,  560, 492,  558, 494,  562, 1542,  514, 538,  514, 1588,  516, 538,  564, 1540,  514, 540,  512, 1590,  562, 1542,  516, 1588,  564, 1540,  562, 1548,  556, 1542,  564, 1522,  534, 1590,  562, 490,  556, 494,  566, 486,  514, 538,  514, 538,  512, 540,  556, 494,  514, 536,  514, 538,  562, 492,  564, 484,  560, 492,  562, 488,  516, 536,  562, 488,  516, 538,  514, 1590,  514, 538,  514, 1590,  562, 1540,  562, 1542,  514, 1590,  562, 490,  512, 1590,  558};
unsigned int ar_lab_22[]= {8480, 4152,  560, 490,  562, 490,  512, 1588,  564, 1542,  562, 488,  516, 536,  514, 1590,  566, 486,  562, 1540,  562, 1540,  558, 496,  560, 494,  564, 486,  560, 1544,  512, 540,  564, 1536,  514, 540,  564, 488,  558, 1542,  568, 486,  514, 538,  558, 494,  514, 1590,  564, 1540,  512, 538,  560, 490,  514, 1590,  562, 490,  514, 1590,  562, 1544,  512, 538,  564, 488,  514, 1590,  560, 1544,  560, 1544,  560, 1544,  564, 1540,  564, 1542,  564, 1540,  560, 1542,  562, 492,  560, 494,  512, 538,  562, 490,  562, 488,  564, 490,  560, 490,  514, 536,  516, 538,  514, 538,  514, 536,  514, 538,  514, 536,  562, 490,  562, 492,  512, 538,  566, 1538,  564, 488,  556, 1550,  558, 1544,  566, 1538,  558, 492,  560, 1546,  560, 1544,  558, 8436, 4200,  562, 490,  564, 486,  560, 1542,  514, 1590,  558, 492,  564, 488,  558, 1546,  562, 490,  512, 1592,  560, 1544,  514, 540,  562, 488,  514, 538,  562, 1542,  560, 494,  562, 1542,  560, 490,  562, 490,  556, 1546,  560, 492,  562, 490,  564, 488,  562, 1544,  558, 1544,  566, 486,  514, 538,  514, 1592,  554, 496,  562, 1540,  514, 1592,  512, 536,  566, 490,  556, 1544,  514, 1590,  566, 1538,  564, 1540,  562, 1542,  558, 1546,  514, 1588,  516, 1590,  514, 538,  560, 492,  562, 488,  516, 536,  516, 538,  514, 536,  558, 494,  558, 494,  560, 492,  562, 488,  558, 496,  514, 538,  514, 538,  514, 536,  514, 536,  564, 488,  514, 1590,  514, 538,  560, 1542,  558, 1546,  514, 1590,  562, 490,  558, 1544,  514, 1590,  556, 8434, 4198,  514, 536,  560, 494,  512, 1590,  562, 1542,  516, 536,  516, 538,  564, 1540,  558, 494,  512, 1590,  514, 1590,  564, 488,  514, 536,  562, 490,  560, 1544,  560, 494,  562, 1540,  564, 492,  558, 490,  564, 1540,  556, 492,  562, 490,  564, 488,  514, 1588,  566, 1538,  564, 488,  516, 566,  484, 1590,  562, 486,  516, 1590,  562, 1542,  560, 492,  514, 540,  562, 1540,  512, 1590,  514, 1590,  514, 1590,  560, 1544,  556, 1548,  560, 1544,  566, 1538,  514, 538,  514, 536,  564, 490,  514, 538,  566, 484,  516, 538,  514, 538,  514, 538,  514, 536,  566, 486,  516, 538,  556, 494,  516, 538,  514, 538,  514, 538,  560, 492,  514, 1588,  558, 494,  562, 1544,  558, 1544,  564, 1540,  556, 494,  516, 1588,  514, 1590,  562};
unsigned int ar_lab_23[]= {8480, 4150,  562, 490,  566, 486,  564, 1540,  568, 1542,  562, 486,  512, 538,  564, 1548,  554, 492,  564, 1536,  564, 1544,  512, 538,  558, 494,  562, 486,  564, 1540,  564, 490,  562, 1542,  564, 486,  514, 538,  514, 1590,  514, 536,  514, 538,  514, 536,  560, 1546,  562, 1542,  514, 544,  560, 486,  562, 1546,  560, 486,  564, 1540,  562, 1542,  562, 1542,  560, 490,  564, 1542,  558, 1546,  562, 1538,  564, 1542,  514, 1590,  562, 1544,  562, 1542,  554, 1550,  564, 488,  562, 490,  514, 538,  556, 494,  514, 538,  558, 494,  560, 492,  514, 538,  514, 538,  514, 540,  512, 536,  514, 538,  514, 536,  562, 490,  560, 492,  514, 488,  612, 1542,  514, 536,  562, 1542,  564, 1540,  562, 1542,  562, 488,  516, 536,  514, 1590,  562, 8436, 4198,  514, 540,  512, 538,  558, 1546,  560, 1544,  556, 496,  512, 538,  514, 1590,  556, 494,  558, 1548,  562, 1542,  564, 486,  560, 494,  512, 538,  562, 1540,  560, 494,  514, 1590,  556, 496,  562, 488,  560, 1544,  566, 486,  564, 486,  564, 490,  514, 1592,  512, 1590,  514, 536,  564, 490,  558, 1546,  562, 490,  556, 1546,  514, 1588,  516, 1590,  516, 536,  562, 1544,  512, 1592,  560, 1544,  558, 1544,  560, 1544,  516, 1590,  564, 1540,  514, 1590,  556, 494,  562, 490,  514, 538,  514, 536,  514, 536,  562, 490,  514, 538,  564, 486,  516, 538,  514, 538,  562, 490,  514, 538,  562, 488,  516, 538,  512, 538,  514, 538,  564, 1540,  514, 538,  564, 1538,  558, 1548,  558, 1546,  562, 488,  514, 538,  560, 1544,  514, 8434, 4228,  532, 490,  562, 488,  514, 1592,  560, 1544,  512, 536,  562, 490,  560, 1544,  562, 490,  568, 1536,  516, 1592,  512, 536,  514, 538,  562, 490,  514, 1590,  514, 536,  564, 1540,  514, 538,  556, 494,  516, 1590,  564, 488,  558, 492,  560, 492,  560, 1544,  564, 1542,  514, 538,  564, 486,  514, 1590,  516, 536,  570, 1534,  564, 1542,  562, 1542,  560, 492,  564, 1538,  514, 1590,  514, 1590,  564, 1540,  516, 1590,  562, 1542,  560, 1544,  562, 1542,  566, 484,  514, 538,  514, 538,  536, 514,  516, 536,  516, 536,  514, 538,  562, 490,  514, 536,  560, 494,  560, 490,  514, 536,  562, 490,  556, 496,  562, 488,  516, 536,  514, 1590,  562, 490,  514, 1588,  516, 1588,  514, 1590,  560, 494,  554, 494,  514, 1590,  514};
unsigned int ar_lab_24[]= {8482, 4152,  566, 488,  564, 484,  564, 1540,  514, 1590,  566, 486,  566, 486,  564, 1538,  560, 442,  564, 1590,  564, 1540,  512, 538,  562, 488,  514, 536,  514, 1590,  514, 538,  566, 1540,  562, 488,  566, 486,  562, 1542,  566, 486,  514, 536,  564, 494,  508, 1594,  558, 1540,  562, 492,  564, 484,  564, 1544,  556, 1544,  512, 546,  554, 488,  558, 496,  558, 494,  564, 1538,  566, 1540,  560, 1542,  564, 1540,  564, 1540,  514, 1592,  512, 1590,  564, 1540,  562, 488,  516, 540,  512, 538,  560, 490,  562, 490,  564, 488,  560, 492,  514, 538,  558, 492,  558, 496,  558, 494,  514, 538,  562, 488,  516, 538,  514, 538,  560, 490,  514, 1590,  562, 490,  512, 1592,  512, 1590,  514, 538,  566, 1536,  564, 1540,  558, 1548,  560, 8476, 4154,  514, 538,  564, 486,  566, 1540,  556, 1546,  566, 490,  560, 490,  564, 1540,  564, 486,  562, 1542,  514, 1592,  562, 490,  512, 538,  562, 490,  514, 1590,  562, 488,  516, 1590,  558, 492,  560, 492,  562, 1542,  558, 494,  558, 490,  562, 492,  562, 1540,  514, 1592,  560, 490,  514, 538,  562, 1540,  514, 1590,  560, 492,  518, 536,  512, 540,  562, 488,  564, 1538,  564, 1540,  564, 1542,  512, 1590,  560, 1544,  558, 1546,  558, 1546,  558, 1548,  560, 492,  560, 492,  564, 488,  514, 538,  560, 492,  558, 494,  514, 538,  514, 538,  562, 488,  556, 496,  514, 538,  560, 492,  562, 490,  514, 538,  564, 488,  562, 490,  514, 1590,  514, 538,  562, 1540,  566, 1540,  558, 490,  516, 1590,  514, 1590,  514, 1590,  514, 8458, 4198,  564, 488,  512, 538,  562, 1542,  564, 1540,  564, 488,  566, 484,  560, 1544,  560, 492,  514, 1590,  562, 1542,  568, 484,  564, 488,  562, 490,  562, 1540,  566, 488,  514, 1590,  514, 538,  514, 538,  514, 1590,  562, 488,  514, 540,  558, 490,  560, 1544,  516, 1592,  564, 486,  514, 536,  556, 1552,  574, 1530,  556, 492,  564, 490,  556, 496,  556, 494,  514, 1588,  564, 1542,  558, 1546,  560, 1546,  512, 1590,  514, 1590,  558, 1548,  562, 1542,  512, 540,  562, 486,  516, 540,  512, 538,  512, 538,  514, 536,  560, 492,  564, 488,  560, 492,  514, 536,  562, 490,  554, 496,  514, 538,  558, 494,  514, 536,  516, 538,  514, 1590,  562, 490,  564, 1542,  562, 1540,  516, 538,  560, 1542,  564, 1542,  562, 1542,  514}; 
unsigned int ar_lab_25[]= {8482, 4148,  564, 490,  556, 494,  564, 1540,  514, 1590,  564, 488,  560, 492,  566, 1538,  556, 500,  512, 1592,  564, 1538,  514, 538,  514, 538,  566, 484,  560, 1544,  562, 490,  560, 1548,  510, 538,  514, 536,  562, 1544,  566, 484,  564, 488,  562, 492,  512, 1590,  562, 1542,  564, 492,  558, 490,  514, 1590,  556, 1548,  562, 488,  564, 488,  514, 1588,  564, 490,  514, 1588,  514, 1592,  560, 1544,  514, 1592,  512, 1590,  558, 1544,  568, 1538,  560, 1542,  556, 496,  564, 488,  514, 536,  564, 488,  560, 490,  560, 492,  562, 490,  560, 492,  560, 490,  514, 538,  562, 488,  566, 488,  562, 488,  514, 538,  562, 490,  514, 538,  514, 1620,  532, 490,  512, 1590,  514, 1592,  560, 492,  560, 1544,  562, 490,  514, 1588,  562, 8522, 4198,  564, 486,  560, 494,  512, 1590,  558, 1546,  564, 488,  564, 488,  560, 1544,  562, 486,  560, 1546,  564, 1540,  564, 492,  510, 538,  514, 538,  560, 1544,  560, 490,  514, 1588,  560, 494,  512, 538,  514, 1588,  516, 538,  564, 486,  562, 488,  514, 1590,  514, 1590,  558, 492,  562, 492,  558, 1544,  514, 1594,  512, 534,  560, 494,  514, 1592,  512, 538,  516, 1588,  562, 1540,  514, 1588,  566, 1542,  512, 1590,  514, 1592,  562, 1540,  516, 1590,  562, 492,  560, 490,  514, 538,  514, 536,  514, 538,  560, 490,  514, 498,  598, 492,  566, 488,  564, 488,  514, 538,  560, 492,  514, 536,  564, 434,  568, 538,  512, 538,  514, 1590,  564, 488,  560, 1544,  558, 1546,  560, 492,  514, 1588,  516, 538,  564, 1544,  558, 8436, 4198,  562, 488,  560, 492,  558, 1546,  512, 1590,  560, 492,  514, 538,  564, 1540,  562, 492,  558, 1546,  556, 1548,  514, 538,  562, 488,  514, 536,  562, 1542,  562, 492,  512, 1592,  512, 538,  514, 538,  558, 1548,  510, 538,  514, 538,  514, 536,  560, 1548,  512, 1592,  560, 488,  560, 492,  514, 1590,  562, 1542,  514, 538,  514, 538,  514, 1590,  558, 494,  564, 1540,  514, 1590,  514, 1592,  558, 1542,  564, 1542,  564, 1540,  558, 1548,  512, 1592,  512, 538,  562, 490,  560, 490,  566, 488,  560, 492,  558, 494,  562, 488,  558, 492,  560, 494,  556, 494,  558, 492,  562, 488,  516, 536,  560, 490,  516, 538,  514, 536,  514, 1588,  564, 488,  514, 1590,  514, 1588,  516, 538,  564, 1540,  516, 536,  564, 1540,  560}; 
unsigned int ar_lab_26[]= {8432, 4200,  512, 540,  562, 486,  556, 1552,  512, 538,  562, 490,  514, 490,  608, 1544,  562, 490,  558, 1546,  564, 1540,  566, 486,  558, 494,  514, 538,  564, 1540,  558, 492,  558, 1552,  560, 486,  568, 486,  558, 1544,  558, 496,  512, 538,  558, 492,  564, 1538,  562, 1542,  564, 486,  564, 490,  560, 1544,  562, 1542,  512, 538,  560, 1544,  558, 494,  512, 538,  514, 1620,  532, 1542,  562, 1542,  560, 1544,  562, 1544,  560, 1542,  564, 1540,  514, 1590,  558, 494,  560, 492,  556, 494,  514, 538,  562, 490,  560, 492,  558, 492,  512, 538,  562, 492,  512, 538,  514, 538,  516, 538,  560, 490,  514, 538,  514, 538,  514, 538,  514, 1590,  514, 1588,  516, 538,  560, 492,  514, 540,  512, 536,  516, 1590,  514, 1590,  514, 8436, 4200,  512, 538,  560, 492,  562, 1540,  564, 488,  564, 488,  564, 486,  564, 1540,  514, 536,  566, 1516,  586, 1540,  558, 494,  566, 484,  560, 490,  564, 1542,  556, 496,  560, 1544,  514, 536,  516, 538,  560, 1544,  560, 490,  516, 538,  558, 494,  558, 1544,  514, 1590,  556, 496,  514, 538,  514, 1590,  558, 1546,  514, 542,  558, 1546,  512, 540,  560, 488,  560, 1544,  564, 1540,  566, 1538,  564, 1542,  512, 1588,  562, 1544,  562, 1542,  562, 1542,  558, 494,  514, 538,  514, 538,  562, 490,  562, 492,  512, 538,  562, 490,  514, 538,  564, 488,  560, 490,  516, 536,  564, 488,  562, 490,  514, 538,  514, 538,  562, 490,  562, 1544,  514, 1566,  586, 488,  516, 536,  564, 490,  514, 538,  514, 1590,  514, 1588,  564, 8436, 4196,  558, 494,  564, 488,  514, 1590,  514, 538,  514, 536,  514, 538,  554, 1548,  560, 492,  514, 1590,  560, 1544,  556, 496,  514, 538,  512, 538,  514, 1590,  514, 538,  514, 1592,  558, 492,  564, 488,  558, 1548,  560, 492,  558, 492,  514, 536,  562, 1544,  562, 1542,  514, 538,  514, 536,  516, 1590,  560, 1546,  556, 494,  562, 1540,  514, 538,  560, 522,  526, 1546,  514, 1592,  512, 1590,  514, 1590,  562, 1540,  516, 1590,  556, 1546,  514, 1590,  558, 496,  512, 536,  514, 538,  558, 494,  556, 496,  514, 538,  514, 538,  514, 538,  514, 538,  514, 538,  514, 538,  558, 494,  558, 492,  562, 492,  560, 490,  560, 492,  514, 1592,  512, 1590,  514, 538,  514, 536,  514, 538,  514, 536,  558, 1550,  554, 1548,  560};

void gettemp(){
  delay(20); 
  h = dht.readHumidity();
  t = dht.readTemperature();
  
}

void displayambiente() {      
    display.setFont(ArialMT_Plain_16);
    display.drawString(30, 0, "Smart PTI");
    display.setFont(ArialMT_Plain_10); 
    display.drawString(15, 15, "Controle de Ambiente");
    display.setFont(ArialMT_Plain_16);
    display.drawString(18, 26, "Temp: " + String(t) + "C");
    display.drawString(15, 45, "Humid: " + String(h) + "%\t"); 
}

void setup() {
  Serial.begin(115200); 
  ESP_BT.begin("B5E3S9 SmartPTI Cinza"); 
  Serial.println("Bluetooth Device is Ready to Pair");
  
  dht.begin(); 
  display.init();
  display.flipScreenVertically();
  
}




void loop() {

  gettemp();  
  display.clear();  
  displayambiente();
  display.display();  
  delay(10);
  
  if (ESP_BT.available()) 
  {
    incoming = ESP_BT.read();
    Serial.print("Received:"); Serial.println(incoming);

     if (incoming == 49)// 18 c
        {
        irsend.sendRaw(ar_lab_18, sizeof(ar_lab_18) / sizeof(ar_lab_18[0]), khz); 
        irsend.sendRaw(ar_corredor_18, sizeof(ar_corredor_18) / sizeof(ar_corredor_18[0]), khz);
        Serial.println("Ar ON 18 \n");
        }
     if (incoming == 50)// 19 c
        {
        irsend.sendRaw(ar_lab_19, sizeof(ar_lab_19) / sizeof(ar_lab_19[0]), khz); 
        irsend.sendRaw(ar_corredor_19, sizeof(ar_corredor_19) / sizeof(ar_corredor_19[0]), khz);
        Serial.println("Ar ON 19 \n");
        }
    if (incoming == 51)// 20 c
        {
        irsend.sendRaw(ar_lab_20, sizeof(ar_lab_20) / sizeof(ar_lab_20[0]), khz); 
        irsend.sendRaw(ar_corredor_20, sizeof(ar_corredor_20) / sizeof(ar_corredor_20[0]), khz);
        Serial.println("Ar ON 20 \n");
        }
    if (incoming == 52)//ligar 21 c
        {
        irsend.sendRaw(ar_lab_21, sizeof(ar_lab_21) / sizeof(ar_lab_21[0]), khz); 
        irsend.sendRaw(ar_corredor_21, sizeof(ar_corredor_21) / sizeof(ar_corredor_21[0]), khz);
        Serial.println("Ar ON 21 \n");
        }
    if (incoming == 53)// 22 c
        {
        irsend.sendRaw(ar_lab_22, sizeof(ar_lab_22) / sizeof(ar_lab_22[0]), khz); 
        irsend.sendRaw(ar_corredor_22, sizeof(ar_corredor_22) / sizeof(ar_corredor_22[0]), khz);
        Serial.println("Ar ON 22 \n");
        }
    if (incoming == 54)// 23 c
        {
        irsend.sendRaw(ar_lab_23, sizeof(ar_lab_23) / sizeof(ar_lab_23[0]), khz); 
        irsend.sendRaw(ar_corredor_23, sizeof(ar_corredor_23) / sizeof(ar_corredor_23[0]), khz);
        Serial.println("Ar ON 23 \n");
        }
     if (incoming == 55)// 24 c
        {
        irsend.sendRaw(ar_lab_24, sizeof(ar_lab_24) / sizeof(ar_lab_24[0]), khz); 
        irsend.sendRaw(ar_corredor_24, sizeof(ar_corredor_24) / sizeof(ar_corredor_24[0]), khz);
        Serial.println("Ar ON 24 \n");
        }
     if (incoming == 56)// 25 c
        {
        irsend.sendRaw(ar_lab_25, sizeof(ar_lab_25) / sizeof(ar_lab_25[0]), khz); 
        irsend.sendRaw(ar_corredor_25, sizeof(ar_corredor_25) / sizeof(ar_corredor_25[0]), khz);
        Serial.println("Ar ON 25\n");
        }
     if (incoming == 57)// 26 c
        {
        irsend.sendRaw(ar_lab_26, sizeof(ar_lab_26) / sizeof(ar_lab_26[0]), khz); 
        irsend.sendRaw(ar_corredor_25, sizeof(ar_corredor_25) / sizeof(ar_corredor_25[0]), khz);
        Serial.println("Ar ON 26\n");
        }    
    if (incoming == 48)// ar OFF
        {
        irsend.sendRaw(ar_lab_off, sizeof(ar_lab_off) / sizeof(ar_lab_off[0]), khz); 
        irsend.sendRaw(ar_corredor_off, sizeof(ar_corredor_off) / sizeof(ar_corredor_off[0]), khz);
        Serial.println("Ar OFF \n");
        }     
  }
  delay(20);
}
